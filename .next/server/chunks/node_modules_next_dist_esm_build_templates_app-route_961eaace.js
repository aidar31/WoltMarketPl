module.exports=[699074,e=>{"use strict";e.s(["handler",()=>F,"patchFetch",()=>B,"routeModule",()=>H,"serverHooks",()=>j,"workAsyncStorage",()=>U,"workUnitAsyncStorage",()=>G],699074);var t=e.i(747909),n=e.i(174017),r=e.i(996250),a=e.i(759756),i=e.i(561916),o=e.i(869741),s=e.i(316795),u=e.i(487718),l=e.i(995169),c=e.i(47587),d=e.i(666012),p=e.i(570101),R=e.i(626937),h=e.i(10372),y=e.i(193695);e.i(52474);var f=e.i(600220);e.s(["POST",()=>D],291427);var w=e.i(89171),g=e.i(696399),b=e.i(301651),m=e.i(823598);e.i(176407);var A=e.i(39504),E=e.i(885866),T=e.i(612766),v=m;class O extends v.Layout{constructor(e){super(-1,e),this.publicKeyLayout=(0,A.publicKey)()}decode(e,t=0){return 0===e[t]?null:this.publicKeyLayout.decode(e,t+1)}encode(e,t,n=0){return null===e?(t[n]=0,1):(t[n]=1,this.publicKeyLayout.encode(e,t,n+1),33)}getSpan(e,t=0){if(e)return 0===e[t]?1:1+this.publicKeyLayout.span;throw RangeError("Buffer must be provided")}}let S=(0,m.struct)([(0,m.u8)("instruction"),(0,m.u8)("decimals"),(0,A.publicKey)("mintAuthority"),new O("freezeAuthority")]);var _=e.i(58993);async function C(e,t,n,r,a,i=g.Keypair.generate(),o,s=b.TOKEN_PROGRAM_ID){let u=await (0,_.getMinimumBalanceForRentExemptMint)(e),l=new g.Transaction().add(g.SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:i.publicKey,space:_.MINT_SIZE,lamports:u,programId:s}),function(e,t,n,r,a=b.TOKEN_PROGRAM_ID){let i=Buffer.alloc(67);return S.encode({instruction:T.TokenInstruction.InitializeMint2,decimals:t,mintAuthority:n,freezeAuthority:r},i),new g.TransactionInstruction({keys:[{pubkey:e,isSigner:!1,isWritable:!0}],programId:a,data:i.subarray(0,S.getSpan(i))})}(i.publicKey,a,n,r,s));return await (0,g.sendAndConfirmTransaction)(e,l,[t,i],o),i.publicKey}var k=e.i(724374);async function I(e,t,n,r,a=!1,i,o,s=b.TOKEN_PROGRAM_ID,u=b.ASSOCIATED_TOKEN_PROGRAM_ID){let l,c=(0,_.getAssociatedTokenAddressSync)(n,r,a,s,u);try{l=await (0,k.getAccount)(e,c,i,s)}catch(a){if(a instanceof E.TokenAccountNotFoundError||a instanceof E.TokenInvalidAccountOwnerError){try{let a=new g.Transaction().add(function(e,t,n,r,a=b.TOKEN_PROGRAM_ID,i=b.ASSOCIATED_TOKEN_PROGRAM_ID){return function(e,t,n,r,a,i=b.TOKEN_PROGRAM_ID,o=b.ASSOCIATED_TOKEN_PROGRAM_ID){let s=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:g.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}];return new g.TransactionInstruction({keys:s,programId:o,data:a})}(e,t,n,r,Buffer.alloc(0),a,i)}(t.publicKey,c,r,n,s,u));await (0,g.sendAndConfirmTransaction)(e,a,[t],o)}catch(e){}l=await (0,k.getAccount)(e,c,i,s)}else throw a}if(!l.mint.equals(n))throw new E.TokenInvalidMintError;if(!l.owner.equals(r))throw new E.TokenInvalidOwnerError;return l}var N=e.i(403888),P=e.i(968299);let x=(0,m.struct)([(0,m.u8)("instruction"),(0,N.u64)("amount")]);async function K(e,t,n,r,a,i,o=[],s,u=b.TOKEN_PROGRAM_ID){let[l,c]=a instanceof g.PublicKey?[a,o]:[a.publicKey,[a]],d=new g.Transaction().add(function(e,t,n,r,a=[],i=b.TOKEN_PROGRAM_ID){let o=(0,P.addSigners)([{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}],n,a),s=Buffer.alloc(x.span);return x.encode({instruction:T.TokenInstruction.MintTo,amount:BigInt(r)},s),new g.TransactionInstruction({keys:o,programId:i,data:s})}(n,r,l,i,o,u));return await (0,g.sendAndConfirmTransaction)(e,d,[t,...c],s)}let M=new g.Connection("https://api.devnet.solana.com","confirmed");async function D(e){try{let{name:t,symbol:n,decimals:r,supply:a,description:i}=await e.json();if(!t||!n||!r||!a)return w.NextResponse.json({error:"Missing required fields"},{status:400});let o=g.Keypair.generate(),s=await C(M,o,o.publicKey,null,r),u=await I(M,o,s,o.publicKey),l=a*Math.pow(10,r);return await K(M,o,s,u.address,o,l),w.NextResponse.json({message:"Token created successfully",token:{mint:s.toString(),name:t,symbol:n,decimals:r,supply:a,description:i,tokenAccount:u.address.toString(),mintAuthority:o.publicKey.toString(),freezeAuthority:null}})}catch(e){return console.error("Token creation error:",e),w.NextResponse.json({error:"Failed to create token"},{status:500})}}var q=e.i(291427);let H=new t.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/web3/create-token/route",pathname:"/api/web3/create-token",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/src/app/api/web3/create-token/route.ts",nextConfigOutput:"",userland:q}),{workAsyncStorage:U,workUnitAsyncStorage:G,serverHooks:j}=H;function B(){return(0,r.patchFetch)({workAsyncStorage:U,workUnitAsyncStorage:G})}async function F(e,t,r){var w;let g="/api/web3/create-token/route";g=g.replace(/\/index$/,"")||"/";let b=await H.prepare(e,t,{srcPage:g,multiZoneDraftMode:!1});if(!b)return t.statusCode=400,t.end("Bad Request"),null==r.waitUntil||r.waitUntil.call(r,Promise.resolve()),null;let{buildId:m,params:A,nextConfig:E,isDraftMode:T,prerenderManifest:v,routerServerContext:O,isOnDemandRevalidate:S,revalidateOnlyGenerated:_,resolvedPathname:C}=b,k=(0,o.normalizeAppPath)(g),I=!!(v.dynamicRoutes[k]||v.routes[C]);if(I&&!T){let e=!!v.routes[C],t=v.dynamicRoutes[k];if(t&&!1===t.fallback&&!e)throw new y.NoFallbackError}let N=null;!I||H.isDev||T||(N="/index"===(N=C)?"/":N);let P=!0===H.isDev||!I,x=I&&!P,K=e.method||"GET",M=(0,i.getTracer)(),D=M.getActiveScopeSpan(),q={params:A,prerenderManifest:v,renderOpts:{experimental:{cacheComponents:!!E.experimental.cacheComponents,authInterrupts:!!E.experimental.authInterrupts},supportsDynamicResponse:P,incrementalCache:(0,a.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:null==(w=E.experimental)?void 0:w.cacheLife,isRevalidate:x,waitUntil:r.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,n,r)=>H.onRequestError(e,t,r,O)},sharedContext:{buildId:m}},U=new s.NodeNextRequest(e),G=new s.NodeNextResponse(t),j=u.NextRequestAdapter.fromNodeNextRequest(U,(0,u.signalFromNodeResponse)(t));try{let o=async n=>H.handle(j,q).finally(()=>{if(!n)return;n.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=M.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==l.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let a=r.get("next.route");if(a){let e=`${K} ${a}`;n.setAttributes({"next.route":a,"http.route":a,"next.span_name":e}),n.updateName(e)}else n.updateName(`${K} ${e.url}`)}),s=async i=>{var s,u;let l=async({previousCacheEntry:n})=>{try{if(!(0,a.getRequestMeta)(e,"minimalMode")&&S&&_&&!n)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let s=await o(i);e.fetchMetrics=q.renderOpts.fetchMetrics;let u=q.renderOpts.pendingWaitUntil;u&&r.waitUntil&&(r.waitUntil(u),u=void 0);let l=q.renderOpts.collectedTags;if(!I)return await (0,d.sendResponse)(U,G,s,q.renderOpts.pendingWaitUntil),null;{let e=await s.blob(),t=(0,p.toNodeOutgoingHttpHeaders)(s.headers);l&&(t[h.NEXT_CACHE_TAGS_HEADER]=l),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let n=void 0!==q.renderOpts.collectedRevalidate&&!(q.renderOpts.collectedRevalidate>=h.INFINITE_CACHE)&&q.renderOpts.collectedRevalidate,r=void 0===q.renderOpts.collectedExpire||q.renderOpts.collectedExpire>=h.INFINITE_CACHE?void 0:q.renderOpts.collectedExpire;return{value:{kind:f.CachedRouteKind.APP_ROUTE,status:s.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:n,expire:r}}}}catch(t){throw(null==n?void 0:n.isStale)&&await H.onRequestError(e,t,{routerKind:"App Router",routePath:g,routeType:"route",revalidateReason:(0,c.getRevalidateReason)({isRevalidate:x,isOnDemandRevalidate:S})},O),t}},y=await H.handleResponse({req:e,nextConfig:E,cacheKey:N,routeKind:n.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:v,isRoutePPREnabled:!1,isOnDemandRevalidate:S,revalidateOnlyGenerated:_,responseGenerator:l,waitUntil:r.waitUntil});if(!I)return null;if((null==y||null==(s=y.value)?void 0:s.kind)!==f.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==y||null==(u=y.value)?void 0:u.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,a.getRequestMeta)(e,"minimalMode")||t.setHeader("x-nextjs-cache",S?"REVALIDATED":y.isMiss?"MISS":y.isStale?"STALE":"HIT"),T&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let w=(0,p.fromNodeOutgoingHttpHeaders)(y.value.headers);return(0,a.getRequestMeta)(e,"minimalMode")&&I||w.delete(h.NEXT_CACHE_TAGS_HEADER),!y.cacheControl||t.getHeader("Cache-Control")||w.get("Cache-Control")||w.set("Cache-Control",(0,R.getCacheControlHeader)(y.cacheControl)),await (0,d.sendResponse)(U,G,new Response(y.value.body,{headers:w,status:y.value.status||200})),null};D?await s(D):await M.withPropagatedContext(e.headers,()=>M.trace(l.BaseServerSpan.handleRequest,{spanName:`${K} ${e.url}`,kind:i.SpanKind.SERVER,attributes:{"http.method":K,"http.target":e.url}},s))}catch(t){if(D||t instanceof y.NoFallbackError||await H.onRequestError(e,t,{routerKind:"App Router",routePath:k,routeType:"route",revalidateReason:(0,c.getRevalidateReason)({isRevalidate:x,isOnDemandRevalidate:S})}),I)throw t;return await (0,d.sendResponse)(U,G,new Response(null,{status:500})),null}}}];

//# sourceMappingURL=node_modules_next_dist_esm_build_templates_app-route_961eaace.js.map